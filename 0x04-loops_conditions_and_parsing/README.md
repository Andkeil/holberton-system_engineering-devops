Shell looping, parsing, and conditions